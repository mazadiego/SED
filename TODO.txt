-rubropresupuestal[agregado]
--Si ya esta relacionado en un "proyeccionpresupuestaldetalle" no debe permitir agregarle hijos [resuelto][Prebas OK frontend]

-fuenterecuerso[agregado]
--Si ya esta relacionado en un "proyeccionpresupuestaldetalle" no debe permitir agregarle hijos [resuelto][Prebas OK frontend]

proyeccionpresupuestalcabecera[agregado] 
--Falta operación PUT [resuelto][Prebas OK frontend]

proyeccionpresupuestaldetalle[agregado] Json ejemplo
--Falta operación DELETE [resuelto][Prebas OK frontend]
--validar Valor sea positivo mayor que cero [resuelto][Prebas OK frontend]

url para conusltar detalle y eliminar 
http://127.0.0.1:8000/proyeccionpresupuestaldetalle/?codigoperiodo=2021&codigoinstitucioneducativa=02&codigofuenterecurso=0102&codigorubropresupuestal=0101

IngresoPresupuestal
--se necesita un metodo en el backend que me traiga las fuentes de la proyeccion de presupuesto, filtrado por institucion educativa y periodo activo [resuelto]
http://127.0.0.1:8000/fuenterecurso/proyeccion/02/
--se necesita un metodo en el backend que me traiga el saldo pendiente por ingreso de una fuente, filtrado por intitucion educativa y periodo activo [resuelto]
http://127.0.0.1:8000/fuenterecurso/fuenterecursoporingreso/saldo/?codigofuenterecurso=0102&codigoinstitucioneducativa=02
--Controlar total de proyecciones, no supere el total proyectado por fuente [resuelto]
--el JSON debe recibir tipo identificacion y codigo del tercero por ser una llave compuesta [resuelto]
--solo se pueden asocias fuente de recursos asociadas a la proyeccion presupuestal del periodo [resuelto]
--En la proyeccion presupuestal no se puede eliminar un detalle si la fuente de recurso ya existe en un ingreso presupuestal[resuelto]
--Valor debe ser positivo mayor que cero[resuelto]
--ojo la fecha debe ir separada por guion yyyy-mm-dd
JSON-prueba 
    {  
        "institucioneducativaid": {
			"codigo": "02"
		},
		"consecutivo":0,
		"fecha":"2022-04-03",
		"terceroid" :{
			"codigo": "1128047055"
		},
		"fuenterecursoid":{
			 "codigo": "0102"
		},
		"observacion":"pruebas inicial",
		"valor":10000,
		"fechaproyeccionrecaudo":"2022-04-30"
    }

Recaudo presupuestal
--Colocar requerida la observación[resuelto]
json prueba
{  
        "institucioneducativaid": {
			"codigo": "02"
		},
		"consecutivo":0,
		"fecha":"2021-04-30",
		"tiporecaudoid":{
			"codigo":"01"
		},
		"ingresopresupuestalid":{
			"consecutivo" :5
		},
		"documentorecaudo":"010000010",
		"observacion":"pruebas",
		"valor":10000		
    }

solicitud presupuestal 
la suma de las solitidudes no puede superar el valor proyectado rubro[resuelto]
metodo rubro institucion educativa y devolver saldo con respecto a la proyeccion[resuelto]

El sistema no debe permitir meter 2 veces el mismo rubro en una solicitud presupuestal [resuelto]
Se requiere un metodo que me liste solos los rubros que estan asociados a la proyeccion del periodo activo [resuelto]
http://127.0.0.1:8000/rubropresupuestal/detalle/proyectados/?codigoinstitucioneducativa=02
Se requiere un metodo que devuelva el saldo del rubro proyectado [resuelto]
http://127.0.0.1:8000/rubropresupuestal/detalle/saldoporproyeccion/?codigoinstitucioneducativa=02&codigorubropresupuestal=0101
El sistema no debe permitir eliminar un rubro de la proyeccion, si este ya esta relacionado en una solicitud [resuelto]

ejemplo cabecera 
{  
        "institucioneducativaid": {
			"codigo": "02"
		},
		"consecutivo":0,
		"fecha":"2021-04-30",
		"observacion":"pruebas",
		"personalplantaidsolicitante": {
			"codigo": "1"
		},
		"personalplantaidsolicitado": {
			"codigo": "12"
		},	
		"terceroid": {
			"codigo": "1128047055",
			"tipoidentificacion":"CC"
		},
		"tipocontratoid": {
			"codigo": "10"
		},
		"fechainiciocontrato":"2021-04-30",
		"fechafincontrato":"2021-04-30",
		"contratonumero":"0100000254"				
    }
	ejemplo detalle
	{
	"solicitudpresupuestalcabeceraid":
		{
			"consecutivo": "3", 
			"codigoinstitucioneducativa": "02"
		},
	"rubropresupuestalid":
		{
			"codigo":"0101"
		},
	"valor":5000
	}

	CDP
	--restricciones debe existir recaudo en el rubro 
	CDP no puede sobrepasar lo solicitado [resuelto]
	la suma de los cdp no puede ser mayor que los recaudos del rubro[resuelto]

	--api saldo rubro solicitudes [resuelto]
	--api saldo rubro por recaudos [resuelto]

	--Se necesita un metodo que me liste solo los rubros asociados a una solicitud por institucion educativa y periodo activo [resuelto]
		http://127.0.0.1:8000/rubropresupuestal/detalle/solicitados/?codigoinstitucioneducativa=02
	--Validar que la fecha de la cabecera pertenezca al periodo activo [resuelto]
	--EL sistema no debe permitir eliminar un recaudo si existe una solicitud de un rubro asociado a la fuente del recaudo [resuelto]
	--EL sistema no debe permitir eliminar un recaudo si existe un cdp de un rubro asociado a la fuente del recaudo [resuelto]
	--El sistema no debe permitir eliminar un rubro detalle en la solicitud, si ya existe un cdp asociado a ese rubro [resuelto]
	--NO permitir existan 2 periodos abiertos[resuelto]
	
	{
	"institucioneducativaid": {
			"codigo": "02"
		},
	"consecutivo":0,
	"fecha":"2021-04-30",
	"diasvalidez":30,	
	"rubropresupuestalid":
		{
			"codigo":"0101"
		},
	"observacion":"pruebas",
	"valor":5000
	}

	metodo saldorecaudo
	http://127.0.0.1:8000/rubropresupuestal/detalle/saldorecaudo/?codigoinstitucioneducativa=02&codigorubropresupuestal=0101
	metodo saldosolicitud
	http://127.0.0.1:8000/rubropresupuestal/detalle/saldosolicitud/?codigoinstitucioneducativa=02&codigorubropresupuestal=0101

{"RP"}
	{
	"institucioneducativaid": {
			"codigo": "02"
		},
	"consecutivo":0,
	"fecha":"2021-04-30",
	"terceroid": {
			"codigo": "1128047055"
		},
	"observacion":"pruebas",
	"certificadodisponibilidadpresupuestalid":
		{
			"consecutivo":4
		},	
	"valor":10000
	}
mtodo CDP Saldo POR Rp 
http://127.0.0.1:8000/certificadodisponibilidadpresupuestal/consecutivo/saldo/?codigoinstitucioneducativa=02&consecutivo=4

ObligacionPresupuestal
	{
	"institucioneducativaid": {
			"codigo": "02"
		},
	"consecutivo":0,
	"fecha":"2021-04-30",
	"recibosatisfacion":1,
	"registropresupuestalid":
		{
			"consecutivo":3
		},
	"observacion":"pruebas",		
	"valor":10000
	}

API RP saldo por ObligacionP
http://127.0.0.1:8000/registropresupuestal/consecutivo/saldo/?codigoinstitucioneducativa=02&consecutivo=4

PagoPresupuestal
	{
	"institucioneducativaid": {
			"codigo": "02"
		},
	"consecutivo":0,
	"fecha":"2021-04-30",
	"obligacionpresupuestalid":
		{
			"consecutivo":4
		},
	"observacion":"pruebas",		
	"valor":10000
	}

API obligacion presupuestal saldo por pagos presupuestal
http://127.0.0.1:8000/obligacionpresupuestal/consecutivo/saldo/?codigoinstitucioneducativa=02&consecutivo=4

instalar swaguer
pip install -U drf-yasg

ModificacionProyeccionPresupuestalcabecera
{  
        "institucioneducativaid": {
			"codigo": "02"
		},
		"periodoid": {
			"codigo": 2021
		},
		"observacion":"prueba"
    }
	
	ModificacionProyeccionPresupuestalDetalle
	{
	"modificacionproyeccionpresupuestalid":
		{
			"codigoperiodo": "2021", 
			"codigoinstitucioneducativa": "02"
		},
	"fuenterecursoid":
		{
			"codigo":"0102"
		},
	"rubropresupuestalid":
		{
			"codigo":"0101"
		},
	"valor":"15000"
	}

metodo aprobar proyeccion 
http://127.0.0.1:8000/proyeccionpresupuestalcabecera/aprobar/?codigoperiodo=2021&codigoinstitucioneducativa=03
GET - aprobar PUT sin enviar nada 
	
